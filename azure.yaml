# yaml-language-server: $schema=https://raw.githubusercontent.com/Azure/azure-dev/main/schemas/v1.0/azure.yaml.json
name: microsoft-mcp-doc-generation
metadata:
  template: microsoft-mcp-doc-generation
infra:
  provider: bicep
  path: infra
hooks:
  postprovision:
    posix: 
      sh: bash
      run: |
        # Get environment values for the application
        azd env get-values > .env
        echo "Environment configured. Data will be loaded after deployment."
    windows:
      shell: pwsh
      run: |
        azd env get-values > .env
        Write-Host "Environment configured. Data will be loaded after deployment."
  postdown:
    windows:
      shell: pwsh
      run: "if (Test-Path .env) { rm .env }"
    posix:
      shell: sh
      run: "[ -f .env ] && rm .env || true"